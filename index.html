<!DOCTYPE html>
<html>
<head>
  <title>Player Registration</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to right, #1e3c72, #2a5298);
      color: #fff;
      padding: 20px;
      margin: 0;
    }

    h1, h2 {
      text-align: center;
      color: #ffda44;
    }

    #logo {
      display: block;
      margin: 0 auto 20px auto;
      width: 150px;
      height: auto;
    }

    button {
      background-color: #ffda44;
      color: #1e3c72;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      font-size: 16px;
      margin: 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #f4c300;
    }

    #form-section, #list-section {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      margin: 20px auto;
    }

    label {
      display: block;
      margin: 15px 0 5px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 5px;
      margin-bottom: 15px;
      font-size: 16px;
    }

    #players-table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
    }

    #players-table th, #players-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #fff;
    }

    #players-table th {
      background-color: #ffda44;
      color: #1e3c72;
    }

    #players-table tr:hover {
      background-color: #333;
    }
  </style>
</head>
<body>
  <img id="logo" src="BTG logo@3x (2).png" alt="BTG Logo">
  <h1>Player Registration Portal</h1>
  <div style="text-align:center">
    <button onclick="showForm()">Registration</button>
    <button onclick="showList()">Registered Players</button>
  </div>

<div id="form-section" style="display:none;">
  <h2>Registration Form</h2>
  <label for="name">Name</label>
  <input type="text" id="name" placeholder="Enter player's name">

  <label for="position">Position</label>
  <select id="position">
    <option value="">Select Position</option>
    <option value="Goalkeeper">Goalkeeper</option>
    <option value="Defender">Defender</option>
    <option value="Mid Fielder">Mid Fielder</option>
    <option value="Forward">Forward</option>
  </select>

  <label for="membership">Membership ID</label>
  <input type="text" id="membership" placeholder="Enter membership ID">

  <button id="submit-btn" onclick="submitForm()" style="display:none;">Submit</button>
</div>

<div id="list-section" style="display:none;">
  <h2>Registered Players</h2>
  <table id="players-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Position</th>
      </tr>
    </thead>
    <tbody id="players-list"></tbody>
  </table>
</div>


  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDvWdFKlX1BBS18yJWsHxfuDTGY4pKWseo",
      authDomain: "list-cf7f2.firebaseapp.com",
      projectId: "list-cf7f2",
      storageBucket: "list-cf7f2.firebasestorage.app",
      messagingSenderId: "1029413676314",
      appId: "1:1029413676314:web:13e5e60e44cf42484538a3",
      measurementId: "G-04LB0NP3M2"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const nameInput = document.getElementById('name');
    const positionSelect = document.getElementById('position');
    const membershipInput = document.getElementById('membership');
    const submitBtn = document.getElementById('submit-btn');

    function showForm() {
      document.getElementById('form-section').style.display = 'block';
      document.getElementById('list-section').style.display = 'none';
    }

    function showList() {
      document.getElementById('form-section').style.display = 'none';
      document.getElementById('list-section').style.display = 'block';
      loadPlayers();
    }

    function checkFormFilled() {
      submitBtn.style.display =
        nameInput.value && positionSelect.value && membershipInput.value
          ? 'block'
          : 'none';
    }

    nameInput.addEventListener('input', checkFormFilled);
    positionSelect.addEventListener('change', checkFormFilled);
    membershipInput.addEventListener('input', checkFormFilled);

    function submitForm() {
      const player = {
        name: nameInput.value,
        position: positionSelect.value,
        membershipId: membershipInput.value
      };

      db.collection('players').add(player).then(() => {
        alert('Player registered successfully!');
        nameInput.value = '';
        positionSelect.value = '';
        membershipInput.value = '';
        submitBtn.style.display = 'none';
      });
    }

    function loadPlayers() {
      const list = document.getElementById('players-list');
      list.innerHTML = '';
      db.collection('players').get().then(snapshot => {
        snapshot.forEach(doc => {
          const data = doc.data();
          const row = document.createElement('tr');
          row.innerHTML = `<td>${data.name}</td><td>${data.position}</td>`; // Membership ID hidden
          list.appendChild(row);
        });
      });
    }
  </script>
</body>
</html>